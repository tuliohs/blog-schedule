{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\MGS\\\\Sistemas\\\\temp\\\\courselit\\\\packages\\\\blog\\\\pages\\\\_app.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport '../styles/globals.css';\nimport React, { useState, useEffect } from 'react';\nimport App from \"next/app\";\nimport { Provider, useStore } from \"react-redux\";\nimport { getCookie } from \"../lib/session.js\";\nimport { JWT_COOKIE_NAME, USERID_COOKIE_NAME } from \"../config/constants.js\"; //import {\n//  signedIn,\n//  updateSiteInfo,\n//  authHasBeenChecked,\n//  updateSiteTheme,\n//  updateSiteLayout,\n//  updateSiteNavigation,\n//  updateBackend,\n//} from \"../redux/actions.js\";\n\nimport { ThemeProvider, unstable_createMuiStrictModeTheme } from \"@material-ui/styles\";\nimport { responsiveFontSizes, createMuiTheme } from \"@material-ui/core\";\nimport { CONSOLE_MESSAGE_THEME_INVALID } from \"../config/strings.js\";\nimport defaultState from '../config/defaultState'; //import wrapper from \"../redux/store.js\";\n//import \"@courselit/rich-text/dist/main.css\";\n\nimport dynamic from \"next/dynamic\";\nconst CodeInjector = dynamic(() => import(\"../components/Public/CodeInjector.js\"), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../components/Public/CodeInjector.js\")],\n    modules: [\"../components/Public/CodeInjector.js\"]\n  }\n});\nimport { getBackendAddress } from \"../lib/utils.js\";\nimport MyContext from '../context/MyContext';\nconst muiTheme = responsiveFontSizes(createMuiTheme({\n  palette: {\n    primary: {\n      main: '#2A3F54'\n    },\n    secondary: {\n      main: '#ec4d37',\n      dark: '#eee'\n    },\n    error: {\n      main: '#ff1744'\n    },\n    background: {\n      default: '#f5f5f5'\n    },\n    contrastThreshold: 3\n  },\n  overrides: {\n    drawerWidth: 240\n  }\n}));\n\nfunction MyApp({\n  Component,\n  pageProps\n}) {\n  const {\n    0: theme,\n    1: setTheme\n  } = useState(muiTheme);\n  const {\n    0: address,\n    1: setAddress\n  } = useState({});\n  const {\n    0: siteInfo,\n    1: setSiteInfo\n  } = useState({\n    title: \"Forgetion\",\n    subtitle: \"Learning Bases in Not Forgetion\",\n    logopath: \"6065e0fc891b6c2dcc9c6d74\",\n    currencyUnit: \"d\",\n    currencyISOCode: \"a\"\n  });\n  const {\n    0: profile,\n    1: setProfile\n  } = useState({\n    isCreator: false,\n    name: \"\",\n    id: \"\",\n    fetched: false,\n    email: \"\" //purchases: [\"\"],\n\n  });\n  const {\n    0: authProp,\n    1: setAuthProp\n  } = useState({\n    guest: false,\n    token: \"\"\n  });\n  const {\n    0: navigation,\n    1: setNavigation\n  } = useState([{\n    text: \"Home\",\n    destination: \"/\",\n    category: \"main\",\n    newTab: false\n  }]);\n  const {\n    0: layout,\n    1: setLayout\n  } = useState(defaultState.layout); //const muiTheme = responsiveFontSizes(theme);\n  //const { theme, address } = store.getState();\n  //try {\n  //  muiTheme = responsiveFontSizes(\n  //    createMuiTheme(Object.keys(theme.styles).length ? theme.styles : {})\n  //  );\n  //} catch (err) {\n  //  console.warn(CONSOLE_MESSAGE_THEME_INVALID);\n  //  muiTheme = responsiveFontSizes(createMuiTheme({}));\n  //}\n  //const setUpCookies = () => {\n  //  const tokenCookie = getCookie({\n  //    key: JWT_COOKIE_NAME,\n  //    domain: address.domain,\n  //  });\n  //  if (tokenCookie) {\n  //    store.dispatch(\n  //      signedIn(\n  //        getCookie({ key: USERID_COOKIE_NAME, domain: address.domain }),\n  //        tokenCookie\n  //      )\n  //    );\n  //  }\n  //  store.dispatch(authHasBeenChecked());\n  //};\n\n  const removeServerSideInjectedCSS = () => {\n    //???? its usable for more projects\n    const jssStyles = document.querySelector(\"#jss-server-side\");\n\n    if (jssStyles) {\n      jssStyles.parentNode.removeChild(jssStyles);\n    }\n  };\n\n  useEffect(() => {\n    //setUpCookies();\n    removeServerSideInjectedCSS();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MyContext.Provider, {\n      value: {\n        siteInfo,\n        profile,\n        authProp,\n        navigation,\n        layout\n      },\n      children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n        theme: theme,\n        children: [/*#__PURE__*/_jsxDEV(Component, _objectSpread({}, pageProps), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CodeInjector, {\n          props: {\n            codeForHead: \"<>customization headers</>\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n} //async function updateSiteTheme(backend) {\n//  let tema;\n//  try {\n//    //dispatch(networkAction(true));\n//    const query = `\n//      { \n//        theme: getTheme {\n//          styles\n//        }\n//      }\n//      `;\n//    const fetch = new FetchBuilder()\n//      .setUrl(`${backend}/graph`)\n//      .setPayload(query)\n//      .setIsGraphQLEndpoint(true)\n//      .build();\n//    const response = await fetch.exec();\n//    tema = response\n//  } catch (e) {\n//    console.log(e, 'erro fetch')\n//  }\n//  return tema\n//}\n//export const getStaticProps  = async () => {\n//export async function getServerSideProps\n//export const getServerSideProps = async (context) => {\n//  const { req } = context;\n//  const courses = await updateSiteTheme(getBackendAddress(\n//    req?.headers?.host || 'localhost:8000'\n//  ));\n//  return { props: { courses } };\n//}\n//MyApp.getInitialProps = async (appContext) => {\n//  const { ctx } = appContext;\n//  if (ctx.req && ctx.req.headers && ctx.req.headers.host) {\n//ctx.store.dispatch(updateBackend(ctx.req.headers.host));\n//await ctx.store.dispatch(updateSiteInfo());\n//await ctx.store.dispatch(updateSiteLayout());\n//await ctx.store.dispatch(updateSiteTheme());\n//await ctx.store.dispatch(updateSiteNavigation());\n//  }\n//  const appProps = await App.getInitialProps(appContext);\n//  return { ...appProps };\n//};\n\n\nexport default MyApp;","map":{"version":3,"sources":["C:/Users/MGS/Sistemas/temp/courselit/packages/blog/pages/_app.js"],"names":["React","useState","useEffect","App","Provider","useStore","getCookie","JWT_COOKIE_NAME","USERID_COOKIE_NAME","ThemeProvider","unstable_createMuiStrictModeTheme","responsiveFontSizes","createMuiTheme","CONSOLE_MESSAGE_THEME_INVALID","defaultState","dynamic","CodeInjector","getBackendAddress","MyContext","muiTheme","palette","primary","main","secondary","dark","error","background","default","contrastThreshold","overrides","drawerWidth","MyApp","Component","pageProps","theme","setTheme","address","setAddress","siteInfo","setSiteInfo","title","subtitle","logopath","currencyUnit","currencyISOCode","profile","setProfile","isCreator","name","id","fetched","email","authProp","setAuthProp","guest","token","navigation","setNavigation","text","destination","category","newTab","layout","setLayout","removeServerSideInjectedCSS","jssStyles","document","querySelector","parentNode","removeChild","codeForHead"],"mappings":"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","sourcesContent":["import '../styles/globals.css'\nimport React, { useState, useEffect } from 'react'\nimport App from \"next/app\";\n\nimport { Provider, useStore } from \"react-redux\";\nimport { getCookie } from \"../lib/session.js\";\nimport { JWT_COOKIE_NAME, USERID_COOKIE_NAME } from \"../config/constants.js\";\n//import {\n//  signedIn,\n//  updateSiteInfo,\n//  authHasBeenChecked,\n//  updateSiteTheme,\n//  updateSiteLayout,\n//  updateSiteNavigation,\n//  updateBackend,\n//} from \"../redux/actions.js\";\nimport { ThemeProvider, unstable_createMuiStrictModeTheme } from \"@material-ui/styles\";\nimport { responsiveFontSizes, createMuiTheme } from \"@material-ui/core\";\nimport { CONSOLE_MESSAGE_THEME_INVALID } from \"../config/strings.js\";\nimport defaultState from '../config/defaultState'\n//import wrapper from \"../redux/store.js\";\n//import \"@courselit/rich-text/dist/main.css\";\nimport dynamic from \"next/dynamic\";\n\nconst CodeInjector = dynamic(() => import(\"../components/Public/CodeInjector.js\"))\n\nimport { getBackendAddress } from \"../lib/utils.js\";\nimport MyContext from '../context/MyContext';\n\nconst muiTheme = responsiveFontSizes(createMuiTheme({\n  palette: {\n    primary: { main: '#2A3F54' },\n    secondary: {\n      main: '#ec4d37',\n      dark: '#eee'\n    },\n    error: { main: '#ff1744' },\n    background: { default: '#f5f5f5' },\n    contrastThreshold: 3\n  },\n  overrides: { drawerWidth: 240 }\n}\n))\n\nfunction MyApp({ Component, pageProps }) {\n  const [theme, setTheme] = useState(muiTheme);\n  const [address, setAddress] = useState({});\n  const [siteInfo, setSiteInfo] = useState({\n    title: \"Forgetion\",\n    subtitle: \"Learning Bases in Not Forgetion\",\n    logopath: \"6065e0fc891b6c2dcc9c6d74\",\n    currencyUnit: \"d\",\n    currencyISOCode: \"a\",\n  })\n  const [profile, setProfile] = useState({\n    isCreator: false,\n    name: \"\",\n    id: \"\",\n    fetched: false,\n    email: \"\",\n    //purchases: [\"\"],\n\n  })\n  const [authProp, setAuthProp] = useState({\n    guest: false,\n    token: \"\"\n  });\n  const [navigation, setNavigation] = useState([{\n    text: \"Home\",\n    destination: \"/\",\n    category: \"main\",\n    newTab: false\n  }])\n  const [layout, setLayout] = useState(defaultState.layout)\n\n  //const muiTheme = responsiveFontSizes(theme);\n  //const { theme, address } = store.getState();\n  //try {\n  //  muiTheme = responsiveFontSizes(\n  //    createMuiTheme(Object.keys(theme.styles).length ? theme.styles : {})\n  //  );\n  //} catch (err) {\n  //  console.warn(CONSOLE_MESSAGE_THEME_INVALID);\n  //  muiTheme = responsiveFontSizes(createMuiTheme({}));\n  //}\n\n  //const setUpCookies = () => {\n  //  const tokenCookie = getCookie({\n  //    key: JWT_COOKIE_NAME,\n  //    domain: address.domain,\n  //  });\n  //  if (tokenCookie) {\n  //    store.dispatch(\n  //      signedIn(\n  //        getCookie({ key: USERID_COOKIE_NAME, domain: address.domain }),\n  //        tokenCookie\n  //      )\n  //    );\n  //  }\n  //  store.dispatch(authHasBeenChecked());\n  //};\n\n  const removeServerSideInjectedCSS = () => {//???? its usable for more projects\n    const jssStyles = document.querySelector(\"#jss-server-side\");\n    if (jssStyles) {\n      jssStyles.parentNode.removeChild(jssStyles);\n    }\n  };\n\n  useEffect(() => {\n    //setUpCookies();\n    removeServerSideInjectedCSS();\n  }, []);\n\n  return (\n    <>\n      <MyContext.Provider value={{ siteInfo, profile, authProp, navigation, layout }}>\n        <ThemeProvider theme={theme}>\n          <Component {...pageProps} />\n          <CodeInjector props={{ codeForHead: \"<>customization headers</>\" }} />\n        </ThemeProvider>\n      </MyContext.Provider>\n    </>\n  )\n}\n\n//async function updateSiteTheme(backend) {\n//  let tema;\n//  try {\n//    //dispatch(networkAction(true));\n//    const query = `\n//      { \n//        theme: getTheme {\n//          styles\n//        }\n//      }\n//      `;\n//    const fetch = new FetchBuilder()\n//      .setUrl(`${backend}/graph`)\n//      .setPayload(query)\n//      .setIsGraphQLEndpoint(true)\n//      .build();\n//    const response = await fetch.exec();\n//    tema = response\n\n//  } catch (e) {\n//    console.log(e, 'erro fetch')\n//  }\n//  return tema\n//}\n\n//export const getStaticProps  = async () => {\n//export async function getServerSideProps\n//export const getServerSideProps = async (context) => {\n\n//  const { req } = context;\n//  const courses = await updateSiteTheme(getBackendAddress(\n//    req?.headers?.host || 'localhost:8000'\n//  ));\n//  return { props: { courses } };\n//}\n\n//MyApp.getInitialProps = async (appContext) => {\n//  const { ctx } = appContext;\n\n//  if (ctx.req && ctx.req.headers && ctx.req.headers.host) {\n//ctx.store.dispatch(updateBackend(ctx.req.headers.host));\n//await ctx.store.dispatch(updateSiteInfo());\n//await ctx.store.dispatch(updateSiteLayout());\n//await ctx.store.dispatch(updateSiteTheme());\n//await ctx.store.dispatch(updateSiteNavigation());\n//  }\n\n//  const appProps = await App.getInitialProps(appContext);\n//  return { ...appProps };\n//};\n\nexport default MyApp\n"]},"metadata":{},"sourceType":"module"}