{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\MGS\\\\Sistemas\\\\temp\\\\courselit\\\\packages\\\\blog\\\\components\\\\Public\\\\Article.js\";\nimport React from \"react\";\nimport { Typography, Grid } from \"@material-ui/core\";\nimport Link from \"next/link\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { formulateMediaUrl, formattedLocaleDate } from \"../../lib/utils\";\nimport { publicCourse, profileProps, addressProps } from \"../../types\"; //import { connect } from \"react-redux\";\n\nimport { PriceTag, RichText as TextEditor } from \"@courselit/components-library\";\nimport { FREE_COST } from \"../../config/strings.js\";\nimport dynamic from \"next/dynamic\";\nconst BuyButton = dynamic(() => import(\"../CheckoutExternal\"), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../CheckoutExternal\")],\n    modules: [\"../CheckoutExternal\"]\n  }\n});\n\nconst useStyles = ({\n  featuredImage,\n  backendUrl\n}) => makeStyles(theme => ({\n  header: {},\n  creatoravatarcontainer: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  creatorcard: {\n    marginTop: theme.spacing(1)\n  },\n  creatoravatar: {\n    borderRadius: \"1.5em\",\n    width: \"3em\",\n    marginRight: \"1em\"\n  },\n  creatorName: {\n    color: \"inherit\"\n  },\n  featuredimagecontainer: {\n    width: \"100%\",\n    height: 240,\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(4),\n    [theme.breakpoints.up(\"sm\")]: {\n      height: 480,\n      backgroundSize: \"cover\"\n    },\n    overflow: \"hidden\",\n    background: `url('${formulateMediaUrl(backendUrl, featuredImage)}') no-repeat center center`,\n    backgroundSize: \"contain\"\n  },\n  enrollmentArea: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(4)\n  },\n  enrollmentAreaPriceTag: {// marginRight: theme.spacing(2),\n    // marginBottom: theme.spacing(2),\n  },\n  content: {\n    marginTop: theme.spacing(4)\n  }\n}));\n\nconst Article = props => {\n  const {\n    course,\n    options,\n    profile,\n    address\n  } = props;\n  const classes = useStyles({\n    featuredImage: course.featuredImage,\n    backendUrl: (address === null || address === void 0 ? void 0 : address.frontend) || 'localhost:8080'\n  })();\n  let courseDescriptionHydrated;\n\n  try {\n    courseDescriptionHydrated = TextEditor.hydrate({\n      data: course.description\n    });\n  } catch (err) {}\n\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h2\",\n        className: classes.header,\n        children: course.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), options.showAttribution && /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      className: classes.creatorcard,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"overline\",\n          component: \"p\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/profile/[id]\",\n            as: `/profile/${course.creatorId}`,\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: classes.creatorName,\n              children: course.creatorName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"overline\",\n          className: classes.updatedtime,\n          children: formattedLocaleDate(course.updated)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), course.featuredImage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.featuredimagecontainer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), options.showEnrollmentArea && !profile.purchases.includes(course.id) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.enrollmentArea,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"space-between\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          className: classes.enrollmentAreaPriceTag,\n          children: /*#__PURE__*/_jsxDEV(PriceTag, {\n            cost: course.cost,\n            freeCostCaption: FREE_COST\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          children: /*#__PURE__*/_jsxDEV(BuyButton, {\n            course: course\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), courseDescriptionHydrated && false && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.content,\n      children: /*#__PURE__*/_jsxDEV(TextEditor, {\n        initialContentState: courseDescriptionHydrated,\n        readOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\nArticle.propTypes = {\n  course: publicCourse.isRequired,\n  options: PropTypes.shape({\n    showAttribution: PropTypes.bool,\n    showEnrollmentArea: PropTypes.bool\n  }).isRequired,\n  profile: profileProps,\n  address: addressProps\n}; //const mapStateToProps = (state) => ({profile: state.profile,address: state.address,})\n//export default connect(mapStateToProps)(Article);\n\nexport default Article;","map":{"version":3,"sources":["C:/Users/MGS/Sistemas/temp/courselit/packages/blog/components/Public/Article.js"],"names":["React","Typography","Grid","Link","PropTypes","makeStyles","formulateMediaUrl","formattedLocaleDate","publicCourse","profileProps","addressProps","PriceTag","RichText","TextEditor","FREE_COST","dynamic","BuyButton","useStyles","featuredImage","backendUrl","theme","header","creatoravatarcontainer","display","alignItems","creatorcard","marginTop","spacing","creatoravatar","borderRadius","width","marginRight","creatorName","color","featuredimagecontainer","height","marginBottom","breakpoints","up","backgroundSize","overflow","background","enrollmentArea","enrollmentAreaPriceTag","content","Article","props","course","options","profile","address","classes","frontend","courseDescriptionHydrated","hydrate","data","description","err","title","showAttribution","creatorId","updatedtime","updated","showEnrollmentArea","purchases","includes","id","cost","propTypes","isRequired","shape","bool"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Typography, Grid } from \"@material-ui/core\";\r\nimport Link from \"next/link\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { formulateMediaUrl, formattedLocaleDate } from \"../../lib/utils\";\r\nimport { publicCourse, profileProps, addressProps } from \"../../types\";\r\n//import { connect } from \"react-redux\";\r\nimport {\r\n  PriceTag,\r\n  RichText as TextEditor,\r\n} from \"@courselit/components-library\";\r\nimport { FREE_COST } from \"../../config/strings.js\";\r\nimport dynamic from \"next/dynamic\";\r\n\r\nconst BuyButton = dynamic(() => import(\"../CheckoutExternal\"));\r\n\r\nconst useStyles = ({ featuredImage, backendUrl }) =>\r\n  makeStyles((theme) => ({\r\n    header: {},\r\n    creatoravatarcontainer: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n    },\r\n    creatorcard: {\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    creatoravatar: {\r\n      borderRadius: \"1.5em\",\r\n      width: \"3em\",\r\n      marginRight: \"1em\",\r\n    },\r\n    creatorName: {\r\n      color: \"inherit\",\r\n    },\r\n    featuredimagecontainer: {\r\n      width: \"100%\",\r\n      height: 240,\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(4),\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        height: 480,\r\n        backgroundSize: \"cover\",\r\n      },\r\n      overflow: \"hidden\",\r\n      background: `url('${formulateMediaUrl(\r\n        backendUrl,\r\n        featuredImage\r\n      )}') no-repeat center center`,\r\n      backgroundSize: \"contain\",\r\n    },\r\n    enrollmentArea: {\r\n      marginTop: theme.spacing(3),\r\n      marginBottom: theme.spacing(4),\r\n    },\r\n    enrollmentAreaPriceTag: {\r\n      // marginRight: theme.spacing(2),\r\n      // marginBottom: theme.spacing(2),\r\n    },\r\n    content: {\r\n      marginTop: theme.spacing(4),\r\n    },\r\n  }));\r\n\r\nconst Article = (props) => {\r\n  const { course, options, profile, address } = props;\r\n  const classes = useStyles({\r\n    featuredImage: course.featuredImage,\r\n    backendUrl: address?.frontend || 'localhost:8080',\r\n  })();\r\n  let courseDescriptionHydrated;\r\n  try {\r\n    courseDescriptionHydrated = TextEditor.hydrate({\r\n      data: course.description,\r\n    });\r\n  } catch (err) { }\r\n\r\n  return (\r\n    <article>\r\n      <header>\r\n        <Typography variant=\"h2\" className={classes.header}>\r\n          {course.title}\r\n        </Typography>\r\n      </header>\r\n      {options.showAttribution && (\r\n        <Grid container className={classes.creatorcard}>\r\n          <Grid item>\r\n            <Typography variant=\"overline\" component=\"p\">\r\n              <Link href=\"/profile/[id]\" as={`/profile/${course.creatorId}`}>\r\n                <a className={classes.creatorName}>{course.creatorName}</a>\r\n              </Link>\r\n            </Typography>\r\n            <Typography variant=\"overline\" className={classes.updatedtime}>\r\n              {formattedLocaleDate(course.updated)}\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      )}\r\n      {course.featuredImage && (\r\n        <div className={classes.featuredimagecontainer} />\r\n      )}\r\n      {options.showEnrollmentArea && !profile.purchases.includes(course.id) && (\r\n        <div className={classes.enrollmentArea}>\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"space-between\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Grid item className={classes.enrollmentAreaPriceTag}>\r\n              <PriceTag cost={course.cost} freeCostCaption={FREE_COST} />\r\n            </Grid>\r\n            <Grid>\r\n              <BuyButton course={course} />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      )}\r\n      {courseDescriptionHydrated && process.browser && (\r\n        <div className={classes.content}>\r\n          <TextEditor\r\n            initialContentState={courseDescriptionHydrated}\r\n            readOnly={true}\r\n          />\r\n        </div>\r\n      )}\r\n    </article>\r\n  );\r\n};\r\n\r\nArticle.propTypes = {\r\n  course: publicCourse.isRequired,\r\n  options: PropTypes.shape({\r\n    showAttribution: PropTypes.bool,\r\n    showEnrollmentArea: PropTypes.bool,\r\n  }).isRequired,\r\n  profile: profileProps,\r\n  address: addressProps,\r\n};\r\n\r\n//const mapStateToProps = (state) => ({profile: state.profile,address: state.address,})\r\n//export default connect(mapStateToProps)(Article);\r\nexport default Article\r\n"]},"metadata":{},"sourceType":"module"}