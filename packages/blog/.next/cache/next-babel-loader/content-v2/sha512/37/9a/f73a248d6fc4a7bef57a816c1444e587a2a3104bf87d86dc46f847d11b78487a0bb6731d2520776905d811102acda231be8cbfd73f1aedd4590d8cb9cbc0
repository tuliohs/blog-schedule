{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"C:/Users/MGS/Sistemas/temp/courselit/packages/blog/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\MGS\\\\Sistemas\\\\temp\\\\courselit\\\\packages\\\\blog\\\\pages\\\\posts.js\",\n    _s = $RefreshSig$();\n\nimport PropTypes from \"prop-types\";\nimport { publicCourse } from \"../types.js\";\nimport { HEADER_BLOG_POSTS_SECTION } from \"../config/strings.js\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { getBackendAddress } from \"../lib/utils.js\";\nimport dynamic from \"next/dynamic\";\nvar BaseLayout = dynamic(_c = function _c() {\n  return import(\"../components/Public/BaseLayout\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../components/Public/BaseLayout\")];\n    },\n    modules: [\"../components/Public/BaseLayout\"]\n  }\n});\n_c2 = BaseLayout;\nvar Items = dynamic(_c3 = function _c3() {\n  return import(\"../components/Public/Items\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../components/Public/Items\")];\n    },\n    modules: [\"../components/Public/Items\"]\n  }\n});\n_c4 = Items;\nvar useStyles = makeStyles(function (theme) {\n  var _content;\n\n  return {\n    content: (_content = {}, _defineProperty(_content, theme.breakpoints.down(\"sm\"), {\n      padding: theme.spacing(2)\n    }), _defineProperty(_content, \"paddingTop\", theme.spacing(2)), _content),\n    header: _defineProperty({}, theme.breakpoints.up(\"md\"), {\n      marginLeft: theme.spacing(2)\n    }),\n    headerTop: {\n      marginBottom: theme.spacing(2)\n    }\n  };\n});\n\nvar generateQuery = function generateQuery() {\n  var pageOffset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return \"\\n  query {\\n    courses: getPosts(offset: \".concat(pageOffset, \") {\\n      id,\\n      title,\\n      description,\\n      updated,\\n      creatorName,\\n      slug,\\n      featuredImage,\\n      courseId\\n    }\\n  }\\n\");\n};\n\nfunction Posts(props) {\n  _s();\n\n  var classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(BaseLayout, {\n    title: HEADER_BLOG_POSTS_SECTION,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      className: classes.content,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        component: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          container: true,\n          className: classes.header,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            className: classes.headerTop,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h2\",\n              children: HEADER_BLOG_POSTS_SECTION\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Items, {\n          showLoadMoreButton: true,\n          generateQuery: generateQuery,\n          initialItems: props.courses,\n          posts: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Posts, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c5 = Posts;\n//Posts.propTypes = {  courses: PropTypes.arrayOf(publicCourse),};\nexport var __N_SSG = true;\nexport default Posts;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"BaseLayout$dynamic\");\n$RefreshReg$(_c2, \"BaseLayout\");\n$RefreshReg$(_c3, \"Items$dynamic\");\n$RefreshReg$(_c4, \"Items\");\n$RefreshReg$(_c5, \"Posts\");","map":{"version":3,"sources":["C:/Users/MGS/Sistemas/temp/courselit/packages/blog/pages/posts.js"],"names":["PropTypes","publicCourse","HEADER_BLOG_POSTS_SECTION","Grid","Typography","makeStyles","getBackendAddress","dynamic","BaseLayout","Items","useStyles","theme","content","breakpoints","down","padding","spacing","header","up","marginLeft","headerTop","marginBottom","generateQuery","pageOffset","Posts","props","classes","courses"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport { publicCourse } from \"../types.js\";\r\nimport { HEADER_BLOG_POSTS_SECTION } from \"../config/strings.js\";\r\nimport FetchBuilder from \"../lib/fetch.js\";\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { getBackendAddress } from \"../lib/utils.js\";\r\nimport dynamic from \"next/dynamic\";\r\nimport defaultState from '../config/defaultState'\r\n\r\nconst BaseLayout = dynamic(() => import(\"../components/Public/BaseLayout\"));\r\nconst Items = dynamic(() => import(\"../components/Public/Items\"));\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  content: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      padding: theme.spacing(2),\r\n    },\r\n    paddingTop: theme.spacing(2),\r\n  },\r\n  header: {\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n  },\r\n  headerTop: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst generateQuery = (pageOffset = 1) => `\r\n  query {\r\n    courses: getPosts(offset: ${pageOffset}) {\r\n      id,\r\n      title,\r\n      description,\r\n      updated,\r\n      creatorName,\r\n      slug,\r\n      featuredImage,\r\n      courseId\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Posts(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <BaseLayout title={HEADER_BLOG_POSTS_SECTION}>\r\n      <Grid item xs={12} className={classes.content}>\r\n        <Grid container component=\"section\">\r\n          <Grid item container className={classes.header}>\r\n            <Grid item xs={12} className={classes.headerTop}>\r\n              <Typography variant=\"h2\">{HEADER_BLOG_POSTS_SECTION}</Typography>\r\n            </Grid>\r\n          </Grid>\r\n          <Items\r\n            showLoadMoreButton={true}\r\n            generateQuery={generateQuery}\r\n            initialItems={props.courses}\r\n            posts={true}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </BaseLayout>\r\n  );\r\n}\r\n\r\nconst getCourses = async (backend) => {\r\n  let courses = [];\r\n  try {\r\n    const fetch = new FetchBuilder()\r\n      .setUrl(`${backend}/graph`)\r\n      .setPayload(generateQuery())\r\n      .setIsGraphQLEndpoint(true)\r\n      .build();\r\n    const response = await fetch.exec();\r\n    courses = response.courses;\r\n  } catch (e) { }\r\n  return courses;\r\n};\r\n\r\nexport async function getStaticProps() {\r\n  //export async function getServerSideProps(context) {\r\n  //const { req } = context;\r\n  //const courses = await getCourses(getBackendAddress(req.headers.host));\r\n  const courses = await getCourses(defaultState.address.backend);\r\n  return { props: { courses } };\r\n}\r\n\r\n//Posts.propTypes = {  courses: PropTypes.arrayOf(publicCourse),};\r\n\r\nexport default Posts;\r\n"]},"metadata":{},"sourceType":"module"}