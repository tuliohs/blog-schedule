{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"C:/Users/MGS/Sistemas/temp/courselit/packages/blog/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\MGS\\\\Sistemas\\\\temp\\\\courselit\\\\packages\\\\blog\\\\pages\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n//import { connect } from \"react-redux\";\n//import PropTypes from \"prop-types\";\n//import { publicCourse, siteInfoProps } from \"../types.js\";\nimport { HEADER_BLOG_POSTS_SECTION, BTN_VIEW_ALL } from \"../config/strings.js\";\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport Link from \"next/link\";\n//import { getBackendAddress } from \"../lib/utils.js\";\nimport dynamic from \"next/dynamic\";\nimport { useContext } from \"react\";\nimport MyContext from \"../context/MyContext.js\";\nvar BaseLayout = dynamic(_c = function _c() {\n  return import(\"../components/Public/BaseLayout\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../components/Public/BaseLayout\")];\n    },\n    modules: [\"../components/Public/BaseLayout\"]\n  }\n});\n_c2 = BaseLayout;\nvar Items = dynamic(_c3 = function _c3() {\n  return import(\"../components/Public/Items\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../components/Public/Items\")];\n    },\n    modules: [\"../components/Public/Items\"]\n  }\n});\n_c4 = Items;\nvar useStyles = makeStyles(function (theme) {\n  var _content;\n\n  return {\n    content: (_content = {}, _defineProperty(_content, theme.breakpoints.down(\"sm\"), {\n      padding: theme.spacing(2)\n    }), _defineProperty(_content, \"paddingTop\", theme.spacing(2)), _defineProperty(_content, \"marginBottom\", theme.spacing(2)), _content),\n    header: _defineProperty({}, theme.breakpoints.up(\"md\"), {\n      marginLeft: theme.spacing(2)\n    }),\n    headerTop: {\n      marginBottom: theme.spacing(2)\n    },\n    link: {\n      textDecoration: \"none\",\n      color: \"inherit\"\n    },\n    callToAction: _defineProperty({}, theme.breakpoints.up(\"md\"), {\n      marginLeft: theme.spacing(2)\n    })\n  };\n});\n\nvar generateQuery = function generateQuery() {\n  var pageOffset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return \"\\n  query {\\n    courses: getPosts(offset: \".concat(pageOffset, \") {\\n      id,\\n      title,\\n      description,\\n      updated,\\n      creatorName,\\n      slug,\\n      featuredImage,\\n      courseId\\n    }\\n  }\\n\");\n};\n\nvar Index = function Index(props) {\n  _s();\n\n  var classes = useStyles();\n\n  var _useContext = useContext(MyContext),\n      siteInfo = _useContext.siteInfo;\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(BaseLayout, {\n      title: siteInfo.subtitle,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        className: classes.content,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          component: \"section\",\n          children: props.courses.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              container: true,\n              className: classes.header,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                className: classes.headerTop,\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h2\",\n                  children: HEADER_BLOG_POSTS_SECTION\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(Items, {\n              generateQuery: generateQuery,\n              initialItems: props.courses,\n              posts: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                disableElevation: true,\n                className: classes.callToAction,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/posts\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: classes.link,\n                    children: BTN_VIEW_ALL\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(Index, \"wJvhQwB8tHOwj5kFd4w1vimVLcc=\", false, function () {\n  return [useStyles];\n});\n\n_c5 = Index;\nexport var __N_SSG = true;\nexport default Index;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"BaseLayout$dynamic\");\n$RefreshReg$(_c2, \"BaseLayout\");\n$RefreshReg$(_c3, \"Items$dynamic\");\n$RefreshReg$(_c4, \"Items\");\n$RefreshReg$(_c5, \"Index\");","map":{"version":3,"sources":["C:/Users/MGS/Sistemas/temp/courselit/packages/blog/pages/index.js"],"names":["HEADER_BLOG_POSTS_SECTION","BTN_VIEW_ALL","Button","Grid","Typography","makeStyles","Link","dynamic","useContext","MyContext","BaseLayout","Items","useStyles","theme","content","breakpoints","down","padding","spacing","header","up","marginLeft","headerTop","marginBottom","link","textDecoration","color","callToAction","generateQuery","pageOffset","Index","props","classes","siteInfo","subtitle","courses","length"],"mappings":"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","sourcesContent":["//import { connect } from \"react-redux\";\r\n//import PropTypes from \"prop-types\";\r\n//import { publicCourse, siteInfoProps } from \"../types.js\";\r\nimport defaultState from '../config/defaultState'\r\nimport { HEADER_BLOG_POSTS_SECTION, BTN_VIEW_ALL } from \"../config/strings.js\";\r\nimport { Button, Grid, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Link from \"next/link\";\r\nimport FetchBuilder from \"../lib/fetch.js\";\r\n//import { getBackendAddress } from \"../lib/utils.js\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { useContext } from \"react\";\r\nimport MyContext from \"../context/MyContext.js\";\r\n\r\nconst BaseLayout = dynamic(() => import(\"../components/Public/BaseLayout\"));\r\nconst Items = dynamic(() => import(\"../components/Public/Items\"));\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  content: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      padding: theme.spacing(2),\r\n    },\r\n    paddingTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  header: {\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n  },\r\n  headerTop: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  link: {\r\n    textDecoration: \"none\",\r\n    color: \"inherit\",\r\n  },\r\n  callToAction: {\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst generateQuery = (pageOffset = 1) => `\r\n  query {\r\n    courses: getPosts(offset: ${pageOffset}) {\r\n      id,\r\n      title,\r\n      description,\r\n      updated,\r\n      creatorName,\r\n      slug,\r\n      featuredImage,\r\n      courseId\r\n    }\r\n  }\r\n`;\r\n\r\nconst Index = (props) => {\r\n  const classes = useStyles();\r\n  const { siteInfo } = useContext(MyContext)\r\n  return (\r\n    <>\r\n      <BaseLayout title={siteInfo.subtitle}>\r\n        <Grid item xs={12} className={classes.content}>\r\n          <Grid container component=\"section\">\r\n            {props.courses.length > 0 && (\r\n              <>\r\n                <Grid item container className={classes.header}>\r\n                  <Grid item xs={12} className={classes.headerTop}>\r\n                    <Typography variant=\"h2\">\r\n                      {HEADER_BLOG_POSTS_SECTION}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n                <Items\r\n                  generateQuery={generateQuery}\r\n                  initialItems={props.courses}\r\n                  posts={true}\r\n\r\n                />\r\n                <Grid item xs={12}>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    disableElevation\r\n                    className={classes.callToAction}\r\n                  >\r\n                    <Link href=\"/posts\">\r\n                      <a className={classes.link}>{BTN_VIEW_ALL}</a>\r\n                    </Link>\r\n                  </Button>\r\n                </Grid>\r\n              </>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </BaseLayout>\r\n    </>\r\n  );\r\n};\r\n\r\nconst getCourses = async (backend) => {\r\n  let courses = [];\r\n  try {\r\n    const fetch = new FetchBuilder()\r\n      .setUrl(`${backend}/graph`)\r\n      .setPayload(generateQuery())\r\n      .setIsGraphQLEndpoint(true)\r\n      .build();\r\n    const response = await fetch.exec();\r\n    courses = response.courses;\r\n  } catch (e) { }\r\n  return courses;\r\n};\r\n\r\nexport async function getStaticProps() {\r\n  const courses = await getCourses(defaultState.address.backend);\r\n  return { props: { courses } };\r\n}\r\n\r\nexport default (Index);\r\n"]},"metadata":{},"sourceType":"module"}