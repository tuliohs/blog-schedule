{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { Typography, Grid } from \"@material-ui/core\";\nimport Link from \"next/link\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { formulateMediaUrl, formattedLocaleDate } from \"../../lib/utils\";\nimport { publicCourse, profileProps, addressProps } from \"../../types\"; //import { connect } from \"react-redux\";\n\nimport { PriceTag, RichText as TextEditor } from \"@courselit/components-library\";\nimport { FREE_COST } from \"../../config/strings.js\";\nimport dynamic from \"next/dynamic\";\nconst BuyButton = dynamic(() => import(\"../CheckoutExternal\"), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../CheckoutExternal\")],\n    modules: [\"../CheckoutExternal\"]\n  }\n});\n\nconst useStyles = ({\n  featuredImage,\n  backendUrl\n}) => makeStyles(theme => ({\n  header: {},\n  creatoravatarcontainer: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  creatorcard: {\n    marginTop: theme.spacing(1)\n  },\n  creatoravatar: {\n    borderRadius: \"1.5em\",\n    width: \"3em\",\n    marginRight: \"1em\"\n  },\n  creatorName: {\n    color: \"inherit\"\n  },\n  featuredimagecontainer: {\n    width: \"100%\",\n    height: 240,\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(4),\n    [theme.breakpoints.up(\"sm\")]: {\n      height: 480,\n      backgroundSize: \"cover\"\n    },\n    overflow: \"hidden\",\n    background: `url('${formulateMediaUrl(backendUrl, featuredImage)}') no-repeat center center`,\n    backgroundSize: \"contain\"\n  },\n  enrollmentArea: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(4)\n  },\n  enrollmentAreaPriceTag: {// marginRight: theme.spacing(2),\n    // marginBottom: theme.spacing(2),\n  },\n  content: {\n    marginTop: theme.spacing(4)\n  }\n}));\n\nconst Article = props => {\n  const {\n    course,\n    options,\n    profile,\n    address\n  } = props;\n  const classes = useStyles({\n    featuredImage: course.featuredImage,\n    backendUrl: (address === null || address === void 0 ? void 0 : address.frontend) || 'localhost:8080'\n  })();\n  let courseDescriptionHydrated;\n\n  try {\n    courseDescriptionHydrated = TextEditor.hydrate({\n      data: course.description\n    });\n  } catch (err) {}\n\n  return /*#__PURE__*/_jsxs(\"article\", {\n    children: [/*#__PURE__*/_jsx(\"header\", {\n      children: /*#__PURE__*/_jsx(Typography, {\n        variant: \"h2\",\n        className: classes.header,\n        children: course.title\n      })\n    }), options.showAttribution && /*#__PURE__*/_jsx(Grid, {\n      container: true,\n      className: classes.creatorcard,\n      children: /*#__PURE__*/_jsxs(Grid, {\n        item: true,\n        children: [/*#__PURE__*/_jsx(Typography, {\n          variant: \"overline\",\n          component: \"p\",\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/profile/[id]\",\n            as: `/profile/${course.creatorId}`,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: classes.creatorName,\n              children: course.creatorName\n            })\n          })\n        }), /*#__PURE__*/_jsx(Typography, {\n          variant: \"overline\",\n          className: classes.updatedtime,\n          children: formattedLocaleDate(course.updated)\n        })]\n      })\n    }), course.featuredImage && /*#__PURE__*/_jsx(\"div\", {\n      className: classes.featuredimagecontainer\n    }), options.showEnrollmentArea && !profile.purchases.includes(course.id) && /*#__PURE__*/_jsx(\"div\", {\n      className: classes.enrollmentArea,\n      children: /*#__PURE__*/_jsxs(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"space-between\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsx(Grid, {\n          item: true,\n          className: classes.enrollmentAreaPriceTag,\n          children: /*#__PURE__*/_jsx(PriceTag, {\n            cost: course.cost,\n            freeCostCaption: FREE_COST\n          })\n        }), /*#__PURE__*/_jsx(Grid, {\n          children: /*#__PURE__*/_jsx(BuyButton, {\n            course: course\n          })\n        })]\n      })\n    }), courseDescriptionHydrated && false && /*#__PURE__*/_jsx(\"div\", {\n      className: classes.content,\n      children: /*#__PURE__*/_jsx(TextEditor, {\n        initialContentState: courseDescriptionHydrated,\n        readOnly: true\n      })\n    })]\n  });\n};\n\n//const mapStateToProps = (state) => ({profile: state.profile,address: state.address,})\n//export default connect(mapStateToProps)(Article);\nexport default Article;","map":null,"metadata":{},"sourceType":"module"}